Version 4
SHEET 1 880 724
WIRE -5408 -3088 -6368 -3088
WIRE -4912 -3088 -5408 -3088
WIRE -4912 -2896 -4912 -3088
WIRE -4912 -2720 -4912 -2816
WIRE -6528 -2288 -6656 -2288
WIRE -6368 -2288 -6368 -3088
WIRE -6368 -2288 -6448 -2288
WIRE -5568 -2288 -5696 -2288
WIRE -5408 -2288 -5408 -3088
WIRE -5408 -2288 -5488 -2288
WIRE -6368 -2144 -6368 -2288
WIRE -5408 -2144 -5408 -2288
WIRE -6656 -2128 -6656 -2288
WIRE -6416 -2128 -6656 -2128
WIRE -5696 -2128 -5696 -2288
WIRE -5456 -2128 -5696 -2128
WIRE -9728 -2048 -9968 -2048
WIRE -9488 -2048 -9728 -2048
WIRE -9248 -2048 -9488 -2048
WIRE -8784 -2048 -9248 -2048
WIRE -6656 -2048 -6656 -2128
WIRE -5696 -2048 -5696 -2128
WIRE -8784 -1936 -8784 -2048
WIRE -9968 -1920 -9968 -2048
WIRE -9728 -1920 -9728 -2048
WIRE -6656 -1904 -6656 -1968
WIRE -5696 -1904 -5696 -1968
WIRE -8784 -1824 -8784 -1856
WIRE -7680 -1824 -8784 -1824
WIRE -6848 -1824 -7680 -1824
WIRE -6704 -1824 -6848 -1824
WIRE -5888 -1824 -6064 -1824
WIRE -5744 -1824 -5888 -1824
WIRE -8784 -1792 -8784 -1824
WIRE -9488 -1744 -9488 -2048
WIRE -9728 -1728 -9728 -1840
WIRE -9520 -1728 -9728 -1728
WIRE -6848 -1728 -6848 -1824
WIRE -5888 -1728 -5888 -1824
WIRE -9328 -1712 -9456 -1712
WIRE -9184 -1712 -9328 -1712
WIRE -8832 -1712 -9104 -1712
WIRE -9968 -1696 -9968 -1840
WIRE -9520 -1696 -9968 -1696
WIRE -9968 -1648 -9968 -1696
WIRE -9728 -1648 -9728 -1728
WIRE -9488 -1600 -9488 -1680
WIRE -8784 -1568 -8784 -1696
WIRE -6848 -1552 -6848 -1648
WIRE -6656 -1552 -6656 -1808
WIRE -5888 -1552 -5888 -1648
WIRE -5696 -1552 -5696 -1808
WIRE -9728 -1472 -9728 -1568
WIRE -9328 -1408 -9328 -1712
WIRE -7792 -1408 -9328 -1408
WIRE -6064 -1408 -6064 -1824
WIRE -6064 -1408 -7792 -1408
WIRE -9968 -1232 -9968 -1568
WIRE -9968 -1232 -10400 -1232
WIRE -6640 -1200 -6976 -1200
WIRE -6368 -1168 -6368 -2048
WIRE -5904 -1168 -6368 -1168
WIRE -5408 -1168 -5408 -2048
WIRE -5408 -1168 -5824 -1168
WIRE -6640 -1104 -6640 -1200
WIRE -9552 -1040 -9760 -1040
WIRE -9248 -1040 -9248 -2048
WIRE -9248 -1040 -9552 -1040
WIRE -6640 -960 -6640 -1024
WIRE -9760 -944 -9760 -1040
WIRE -10400 -880 -10400 -1232
WIRE -10224 -880 -10400 -880
WIRE -10048 -880 -10160 -880
WIRE -6976 -880 -6976 -1200
WIRE -6832 -880 -6976 -880
WIRE -5408 -880 -5408 -1168
WIRE -5504 -832 -5776 -832
WIRE -9760 -800 -9760 -864
WIRE -10400 -784 -10400 -880
WIRE -9328 -784 -9648 -784
WIRE -6832 -752 -6832 -880
WIRE -6368 -736 -6368 -1168
WIRE -8144 -720 -8336 -720
WIRE -7520 -720 -8064 -720
WIRE -7280 -720 -7520 -720
WIRE -6912 -720 -7280 -720
WIRE -9552 -704 -9552 -1040
WIRE -9648 -688 -9648 -784
WIRE -9584 -688 -9648 -688
WIRE -6656 -688 -6752 -688
WIRE -6464 -688 -6576 -688
WIRE -9328 -672 -9328 -784
WIRE -9328 -672 -9520 -672
WIRE -9088 -672 -9328 -672
WIRE -8928 -672 -9088 -672
WIRE -8736 -672 -8848 -672
WIRE -8336 -672 -8336 -720
WIRE -8336 -672 -8736 -672
WIRE -10048 -656 -10048 -880
WIRE -9952 -656 -10048 -656
WIRE -9584 -656 -9872 -656
WIRE -6912 -656 -7040 -656
WIRE -10400 -640 -10400 -704
WIRE -10400 -640 -10576 -640
WIRE -10400 -592 -10400 -640
WIRE -7520 -592 -7520 -720
WIRE -7280 -592 -7280 -720
WIRE -10576 -576 -10576 -640
WIRE -8736 -560 -8736 -672
WIRE -6832 -560 -6832 -624
WIRE -9552 -544 -9552 -640
WIRE -7680 -512 -7680 -1824
WIRE -7568 -512 -7680 -512
WIRE -7040 -512 -7040 -656
WIRE -6512 -512 -6512 -544
WIRE -6512 -512 -7040 -512
WIRE -7280 -480 -7280 -528
WIRE -10400 -416 -10400 -512
WIRE -10224 -416 -10400 -416
WIRE -10048 -416 -10048 -656
WIRE -10048 -416 -10160 -416
WIRE -7520 -416 -7520 -496
WIRE -8736 -400 -8736 -480
WIRE -6976 -272 -6976 -880
WIRE -6832 -272 -6976 -272
WIRE -6832 -160 -6832 -272
WIRE -9088 -128 -9088 -672
WIRE -8672 -128 -9088 -128
WIRE -8480 -128 -8592 -128
WIRE -8144 -128 -8480 -128
WIRE -7520 -128 -8064 -128
WIRE -7264 -128 -7520 -128
WIRE -6912 -128 -7264 -128
WIRE -6672 -96 -6752 -96
WIRE -6512 -96 -6592 -96
WIRE -5776 -96 -5776 -832
WIRE -5776 -96 -6512 -96
WIRE -7040 -64 -7040 -512
WIRE -6912 -64 -7040 -64
WIRE -8480 -16 -8480 -128
WIRE -6512 -16 -6512 -96
WIRE -7520 0 -7520 -128
WIRE -7264 0 -7264 -128
WIRE -6832 32 -6832 -32
WIRE -7792 80 -7792 -1408
WIRE -7568 80 -7792 80
WIRE -7264 112 -7264 64
WIRE -8480 144 -8480 64
WIRE -7520 176 -7520 96
WIRE -7040 176 -7040 -64
WIRE -6368 176 -6368 -640
WIRE -6368 176 -7040 176
WIRE -5904 176 -6368 176
WIRE -5408 176 -5408 -784
WIRE -5408 176 -5904 176
WIRE -5904 400 -5904 176
WIRE -5904 560 -5904 480
FLAG -6848 -1552 0
FLAG -6656 -1552 0
FLAG -4912 -2720 0
FLAG -5888 -1552 0
FLAG -5696 -1552 0
FLAG -5904 560 0
FLAG -6640 -960 0
FLAG -10576 -576 0
FLAG -9552 -544 0
FLAG -9760 -800 0
FLAG -9728 -1472 0
FLAG -9488 -1600 0
FLAG -8784 -1568 0
FLAG -8736 -400 0
FLAG -6832 -560 0
FLAG -6832 32 0
FLAG -7520 -416 0
FLAG -7520 176 0
FLAG -7280 -480 0
FLAG -7264 112 0
FLAG -8480 144 0
SYMBOL res -5920 384 R0
SYMATTR InstName R1
SYMATTR Value 0.1
SYMBOL pmos -6416 -2048 M180
SYMATTR InstName M1
SYMATTR Value AOD4185
SYMBOL res -5808 -1184 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 3.3
SYMBOL res -6672 -2064 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -6432 -2304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL voltage -4912 -2912 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 18
SYMBOL nmos -6704 -1904 R0
SYMATTR InstName M2
SYMATTR Value IRLML0040
SYMBOL res -6864 -1744 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL pmos -5456 -2048 M180
SYMATTR InstName M3
SYMATTR Value AOD4185
SYMBOL res -5712 -2064 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -5472 -2304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL nmos -5744 -1904 R0
SYMATTR InstName M4
SYMATTR Value IRLML0040
SYMBOL res -5904 -1744 R0
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res -6560 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 120
SYMBOL voltage -6640 -1120 R0
WINDOW 3 50 42 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 5
SYMATTR InstName V3
SYMBOL res -6576 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 120
SYMBOL res -8832 -688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 47k
SYMBOL voltage -10400 -800 R0
WINDOW 3 50 42 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 0.3 0.01)
SYMATTR InstName V2
SYMBOL voltage -10400 -608 R0
WINDOW 3 50 42 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value SINE(0 0.3 0.01)
SYMATTR InstName V4
SYMBOL schottky -10224 -864 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -10224 -400 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 10MQ060N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL OpAmps\\MAX4230 -9552 -736 R0
SYMATTR InstName U6
SYMBOL voltage -9760 -960 R0
WINDOW 3 50 42 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 3.3
SYMATTR InstName V5
SYMBOL res -9984 -1936 R0
SYMATTR InstName R19
SYMATTR Value 100k
SYMBOL res -9984 -1664 R0
SYMATTR InstName R20
SYMATTR Value 100k
SYMBOL res -9744 -1936 R0
SYMATTR InstName R21
SYMATTR Value 100k
SYMBOL res -9744 -1664 R0
SYMATTR InstName R22
SYMATTR Value 100k
SYMBOL OpAmps\\MAX4230 -9488 -1776 R0
SYMATTR InstName U7
SYMBOL res -8800 -1952 R0
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL nmos -8832 -1792 R0
SYMATTR InstName M7
SYMATTR Value IRLML0040
SYMBOL res -9088 -1728 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 10k
SYMBOL cap -6528 -608 R0
SYMATTR InstName C1
SYMATTR Value 22p
SYMBOL cap -6528 -16 R0
SYMATTR InstName C2
SYMATTR Value 22p
SYMBOL AutoGenerated\\2n6388 -6400 -688 R0
SYMATTR InstName U1
SYMBOL AutoGenerated\\2n6388 -5440 -832 R0
SYMATTR InstName U2
SYMBOL res -9856 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 100k
SYMBOL res -8752 -576 R0
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL AutoGenerated\\TLC277_5V -6832 -688 R0
SYMATTR InstName U3
SYMBOL AutoGenerated\\TLC277_5V -6832 -96 R0
SYMATTR InstName U4
SYMBOL nmos -7568 -592 R0
SYMATTR InstName M5
SYMATTR Value IRLML0040
SYMBOL res -8048 -736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 47k
SYMBOL nmos -7568 0 R0
SYMATTR InstName M6
SYMATTR Value IRLML0040
SYMBOL res -8048 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 47k
SYMBOL cap -7296 -592 R0
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL cap -7280 0 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL res -8576 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 47k
SYMBOL res -8496 -32 R0
SYMATTR InstName R15
SYMATTR Value 10k
TEXT -5904 -1272 Left 2 !.tran 300s
